= form_for @product,:html => {:class => 'form-horizontal', :multipart => true } do |f| 

  - if @product.errors.any?
    #error_explanation
      %h4= "#{pluralize(@product.errors.count, "error")} prohibited this event from being saved:"
      - @product.errors.full_messages.each do |msg|
        .alert.alert-danger= msg
  .row
    .field.form-group.col-xs-7
      = f.text_field :title, class:"form-control", placeholder: "Title"
  .row
    .field.form-group.col-xs-7
      = f.text_field :subtitle, class:"form-control", placeholder: "Subtitle (POST COLONIC SURGE)"
  .row
    .field.form-group.col-xs-12
      = f.label :description
      = f.cktext_area :description, :id=>"product_description", :ckeditor => {:toolbar => "Custom"}
  .row
    .field.form-group.col-xs-3
      = f.label :visible
      = f.check_box :visible
    .field.form-group.col-xs-3
      = f.label :featured
      = f.check_box :featured
  %h4 Price(s)
  = f.fields_for :prices do |p|
    .row.price
      .field.input-group.col-xs-3.amount
        %span.input-group-addon $
        = p.number_field :amount, class:"form-control"
      .field.form-group.col-xs-4
        = p.text_field :description, placeholder: "Price Description", class: "form-control"

  .row
    .field.form-group.col-xs-12
      = f.submit class: "btn"

:javascript
  $(document).ready(function(){
    $('.field_with_errors').each(function(){
      $(this).addClass("error_text");
    });
  
  });
